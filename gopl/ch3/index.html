<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://notes.shichao.io/gopl/ch3/">
        <link rel="shortcut icon" href="../../toki_32.png">
        

	<title>Chapter 3. Basic Data Types - Shichao's Notes</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,400italic,500,600" rel="stylesheet">
        <link href="../../custom.css" rel="stylesheet">
        <link href="../../friendly.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Shichao's Notes</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">APUE <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../apue/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch1/">Chapter 1. UNIX System Overview</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch2/">Chapter 2. UNIX Standardization and Implementations</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch3/">Chapter 3. File I/O</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch4/">Chapter 4. Files and Directories</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch5/">Chapter 5. Standard I/O Library</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch6/">Chapter 6. System Data Files and Information</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch7/">Chapter 7. Process Environment</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch8/">Chapter 8. Process Control</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch9/">Chapter 9. Process Relationships</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch10/">Chapter 10. Signals</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch11/">Chapter 11. Threads</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch12/">Chapter 12. Thread Control</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch13/">Chapter 13. Daemon Processes</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch14/">Chapter 14. Advanced I/O</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch15/">Chapter 15. Interprocess Communication</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch16/">Chapter 16. Network IPC: Sockets</a>
                        </li>
                      
                        <li>
                            <a href="../../apue/ch17/">Chapter 17. Advanced IPC</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">LKD <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../lkd/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch1/">Chapter 1. Introduction to the Linux Kernel</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch2/">Chapter 2. Getting Started with the Kernel</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch3/">Chapter 3. Process Management</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch4/">Chapter 4. Process Scheduling</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch5/">Chapter 5. System Calls</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch6/">Chapter 6. Kernel Data Structures</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch7/">Chapter 7. Interrupts and Interrupt Handlers</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch8/">Chapter 8. Bottom Halves and Deferring Work</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch9/">Chapter 9. An Introduction to Kernel Synchronization</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch10/">Chapter 10. Kernel Synchronization Methods</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch11/">Chapter 11. Timers and Time Management</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch12/">Chapter 12. Memory Management</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch13/">Chapter 13. The Virtual Filesystem</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch14/">Chapter 14. The Block I/O Layer</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch15/">Chapter 15. The Process Address Space</a>
                        </li>
                      
                        <li>
                            <a href="../../lkd/ch16/">Chapter 16. The Page Cache and Page Writeback</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">UNP <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../unp/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch1/">Chapter 1. Introduction</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch2/">Chapter 2. The Transport Layer: TCP, UDP, and SCTP</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch3/">Chapter 3. Sockets Introduction</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch4/">Chapter 4. Elementary TCP Sockets</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch5/">Chapter 5. TCP Client/Server Example</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch6/">Chapter 6. I/O Multiplexing: The select and poll Functions</a>
                        </li>
                      
                        <li>
                            <a href="../../unp/ch7/">Chapter 7. Socket Options</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">TCPv1 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../tcpv1/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch1/">Chapter 1. Introduction</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch2/">Chapter 2. The Internet Address Architecture</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch3/">Chapter 3. Link Layer</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch4/">Chapter 4. ARP: Address Resolution Protocol</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch5/">Chapter 5. The Internet Protocol (IP)</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch6/">Chapter 6. System Configuration: DHCP and Autoconfiguration</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch7/">Chapter 7. Firewalls and Network Address Translation (NAT)</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch8/">Chapter 8. ICMPv4 and ICMPv6: Internet Control Message Protocol</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch9/">Chapter 9. Broadcasting and Local Multicasting (IGMP and MLD)</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch10/">Chapter 10. User Datagram Protocol (UDP) and IP Fragmentation</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch11/">Chapter 11. Name Resolution and the Domain Name System (DNS)</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch12/">Chapter 12. TCP: The Transmission Control Protocol (Preliminaries)</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch13/">Chapter 13. TCP Connection Management</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch14/">Chapter 14. TCP Timeout and Retransmission</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch15/">Chapter 15. TCP Data Flow and Window Management</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch16/">Chapter 16. TCP Congestion Control</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch17/">Chapter 17. TCP Keepalive</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/ch18/">Chapter 18. Security: EAP, IPsec, TLS, DNSSEC, and DKIM</a>
                        </li>
                      
                        <li>
                            <a href="../../tcpv1/headers/">Headers</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">GOPL <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../ch1/">Chapter 1. Tutorial</a>
                        </li>
                      
                        <li>
                            <a href="../ch2/">Chapter 2. Program Structure</a>
                        </li>
                      
                        <li class="active">
                            <a href="./">Chapter 3. Basic Data Types</a>
                        </li>
                      
                        <li>
                            <a href="../ch4/">Chapter 4. Composite Types</a>
                        </li>
                      
                        <li>
                            <a href="../ch5/">Chapter 5. Functions</a>
                        </li>
                      
                        <li>
                            <a href="../ch6/">Chapter 6. Methods</a>
                        </li>
                      
                        <li>
                            <a href="../ch7/">Chapter 7. Interfaces</a>
                        </li>
                      
                        <li>
                            <a href="../ch10/">Chapter 10. Packages and the Go Tool</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">PER <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../per/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../per/ch1/">Chapter 1. A Tutorial Introduction</a>
                        </li>
                      
                        <li>
                            <a href="../../per/ch6/">Chapter 6. Functions and Functional Programming</a>
                        </li>
                      
                        <li>
                            <a href="../../per/ch7/">Chapter 7. Classes and Object-Oriented Programming</a>
                        </li>
                      
                        <li>
                            <a href="../../per/ch15/">Chapter 15. Data Structures, Algorithms, and Code Simplification</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">TWGR <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../twgr/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../twgr/ch1/">Chapter 1. Bootstrapping your Ruby literacy</a>
                        </li>
                      
                        <li>
                            <a href="../../twgr/ch2/">Chapter 2. Objects, methods, and local variables</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">SPEC <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../spec/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch1/">Chapter 1. Introduction</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch2/">Chapter 2. Methodology</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch3/">Chapter 3. Operating Systems</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch4/">Chapter 4. Observability Tools</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch5/">Chapter 5. Applications</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch6/">Chapter 6. CPUs</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch7/">Chapter 7. Memory</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch8/">Chapter 8. File Systems</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch9/">Chapter 9. Disks</a>
                        </li>
                      
                        <li>
                            <a href="../../spec/ch10/">Chapter 10. Network</a>
                        </li>
                      
                    </ul>
                </li>
            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">BD <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li>
                            <a href="../../bd/">Contents</a>
                        </li>
                      
                        <li>
                            <a href="../../bd/ch1/">Chapter 1. A new paradigm for Big Data</a>
                        </li>
                      
                        <li>
                            <a href="../../bd/ch2/">Chapter 2. Data model for Big Data</a>
                        </li>
                      
                        <li>
                            <a href="../../bd/ch3/">Chapter 3. Data model for Big Data: Illustration</a>
                        </li>
                      
                    </ul>
                </li>
            
            </ul>
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    
                        <a href="https://github.com/shichao-an/notes/blob/master/docs/gopl/ch3.md">
                    
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#chapter-3-basic-data-types">Chapter 3. Basic Data Types</a></li>
        
    
        <li class="main "><a href="#integers">Integers</a></li>
        
            <li><a href="#signedness">Signedness *</a></li>
        
            <li><a href="#binary-operators">Binary operators *</a></li>
        
    
        <li class="main "><a href="#doubts-and-solution">Doubts and Solution</a></li>
        
            <li><a href="#verbatim">Verbatim</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">
              

<h3 id="chapter-3-basic-data-types"><strong>Chapter 3. Basic Data Types</strong></h3>
<p>Computers operate fundamentally on fixed-size numbers called <strong>words</strong>, which are interpreted as integers, floating-point numbers, bit sets, or memory addresses, then combined into larger aggregates.</p>
<p>Go’s types fall into four categories:</p>
<ul>
<li>Basic types: numbers, strings, and booleans.</li>
<li>Aggregate types: arrays and structs.</li>
<li>Reference types: pointers, slices, maps, functions, and channels .</li>
<li>Interface types</li>
</ul>
<p>Basic types (discussed in this chapter) include numbers, strings, and booleans.</p>
<h3 id="integers">Integers</h3>
<p>Go provides both signed and unsigned integer arithmetic. There are four distinct sizes of
signed integers: 8, 16, 32, and 64 bits. They represented by:</p>
<ul>
<li>Signed: <code>int8</code>, <code>int16</code>, <code>int32</code>, and <code>int64</code>;</li>
<li>Unsigned: <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, and <code>uint64</code>.</li>
</ul>
<p>There are also two types <code>int</code> and <code>uint</code> that are the natural or most efficient size for signed and unsigned integers on a particular platform: <code>int</code> is by far the most widely used numeric type. Both these types have the same size, either 32 or 64 bits, but one must not make assumptions about which; different compilers may make different choices even on identical hardware.</p>
<ul>
<li>The type <code>rune</code> is an synonym for <code>int32</code> and conventionally indicates that a value is a Unicode
code point. The two names may be used interchangeably.</li>
<li>The type <code>byte</code> is an synonym for <code>uint8</code>, and emphasizes that the value is a piece of raw data rather than a small numeric quantity.</li>
<li><code>uintptr</code> is an unsigned integer type, whose width is not specified but is sufficient to hold all the bits of a pointer value. The <code>uintptr</code> type is used only for low-level programming, such as at the boundary of a Go program with a C library or an operating system (discussed with the <code>unsafe</code> package in <a href="ch13.md">Chapter 13</a>).</li>
</ul>
<p>Regardless of their size, <code>int</code>, <code>uint</code>, and <code>uintptr</code> are different types from their explicitly sized siblings. Thus <code>int</code> is not the same type as <code>int32</code>, even if the natural size of integers is 32 bits, and an explicit conversion is required to use an <code>int</code> value where an <code>int32</code> is needed, and vice versa.</p>
<h4 id="signedness">Signedness *</h4>
<p>Signed numbers are represented in <a href="https://en.wikipedia.org/wiki/Two%27s_complement">2’s-complement</a> form, in which the high-order bit is reserved for the sign of the number and the range of values of an n-bit number is from −2<sup><em>n</em>−1</sup> to 2<sup><em>n</em>−1</sup>−1. Unsigned integers use the full range of bits for non-negative values and thus have the range 0 to 2<sup><em>n</em>−1</sup>. For instance, the range of <code>int8</code> is −128 to 127, whereas the range of <code>uint8</code> is 0 to 255.</p>
<h4 id="binary-operators">Binary operators *</h4>
<p>Go’s binary operators for arithmetic, logic, and comparison are listed here in order of decreasing precedence:</p>
<div class="codehilite"><pre>* / % &lt;&lt; &gt;&gt; &amp; &amp;^
+ - | ^
== != &lt; &lt;= &gt; &gt;=
&amp;&amp;
||
</pre></div>


<p>There are only five levels of precedence for binary operators. Operators at the same level associate to the left; parentheses may be required for clarity, or to make the operators evaluate in the intended order in an expression like <code>mask &amp; (1 &lt;&lt; 28)</code>.</p>
<p>Each operator in the first two lines of the table above, has a corresponding assignment operator. For instance, <code>+</code> has <code>+=</code> that may be used to abbreviate an assignment statement.</p>
<h5 id="arithmetic-operators"><strong>Arithmetic operators</strong> *</h5>
<p>The integer <a href="https://golang.org/ref/spec#Arithmetic_operators">arithmetic operators</a> <code>+</code>, <code>-</code>, <code>*</code>, and <code>/</code> may be applied to integer, floating-point, and complex numbers, but the remainder operator <code>%</code> applies only to integers.</p>
<ul>
<li>The behavior of <code>%</code> for negative numbers varies across programming languages. In Go, the sign of the remainder is always the same as the sign of the <a href="https://en.wikipedia.org/wiki/Division_(mathematics)">dividend</a>, so <code>-5%3</code> and <code>-5%-3</code> are both <code>-2</code>.</li>
<li>The behavior of <code>/</code> depends on whether its operands are integers, so <code>5.0/4.0</code> is <code>1.25</code>, but <code>5/4</code> is <code>1</code> because integer division truncates the result toward zero.</li>
</ul>
<h5 id="integer-overflow"><strong>Integer overflow</strong> *</h5>
<p>If the result of an arithmetic operation, whether signed or unsigned, has more bits than can be represented in the result type, it is said to <em>overflow</em>. The high-order bits that do not fit are silently discarded. If the original number is a signed type, the result could be negative if the leftmost bit is a 1, as in the <code>int8</code> example here:</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">u</span> <span class="kt">uint8</span> <span class="p">=</span> <span class="mi">255</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span> <span class="nx">u</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">u</span><span class="o">*</span><span class="nx">u</span><span class="p">)</span> <span class="c1">// &quot;255 0 1&quot;</span>

<span class="kd">var</span> <span class="nx">i</span> <span class="kt">int8</span> <span class="p">=</span> <span class="mi">127</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="nx">i</span><span class="p">)</span> <span class="c1">// &quot;127 -128 1&quot;</span>
</pre></div>


<h5 id="comparison-and-comparability"><strong>Comparison and comparability</strong> *</h5>
<p>Binary comparison operators are:</p>
<ul>
<li><code>==</code>: equal to</li>
<li><code>!=</code>: not equal to</li>
<li><code>&lt;</code>: less than</li>
<li><code>&lt;=</code>: less than or equal to</li>
<li><code>&gt;</code>: greater than</li>
<li><code>&gt;=</code>: greater than or equal to</li>
</ul>
<p>The type of a comparison expression is a boolean.</p>
<ul>
<li>All values of basic type (booleans, numbers, and strings) are <em>comparable</em>. This means two values of the same type may be compared using the <code>==</code> and <code>!=</code> operators.</li>
<li>Integers, floating-point numbers, and strings are <em>ordered</em> by the comparison operators.</li>
<li>The values of many other types are not comparable, and no other types are ordered.</li>
</ul>
<h5 id="unary-operators"><strong>Unary operators</strong> *</h5>
<p>There are also unary addition and subtraction operators:</p>
<ul>
<li><code>+</code>: unary positive (no effect)</li>
<li><code>-</code>: unary negation</li>
</ul>
<p>For integers, <code>+x</code> is a shorthand for <code>0+x</code> and <code>-x</code> is a shorthand for <code>0-x</code>; for floating-point and complex numbers, <code>+x</code> is just <code>x</code> and <code>-x</code> is the negation of <code>x</code>.</p>
<h5 id="bitwise-binary-operators"><strong>Bitwise binary operators</strong> *</h5>
<p>The following are bitwise binary operators. The first four of them treat their operands as bit patterns with no concept of arithmetic carry or sign:</p>
<ul>
<li><code>&amp;</code>: bitwise AND</li>
<li><code>|</code>: bitwise OR</li>
<li><code>^</code>: bitwise XOR</li>
<li><code>&amp;^</code>: bit clear (AND NOT)</li>
<li><code>&lt;&lt;</code>: left shift</li>
<li><code>&gt;&gt;</code>: right shift</li>
</ul>
<p>The operator <code>^</code> has two usages:</p>
<ul>
<li>When used as a binary operator, it is bitwise exclusive OR (XOR)</li>
<li>When used as a unary prefix operator, it is bitwise negation or complement, which means it returns a value with each bit in its operand inverted.</li>
</ul>
<p>The <code>&amp;^</code> operator is bit clear (AND NOT): in the expression <code>z = x &amp;^ y</code>, each bit of <code>z</code> is 0 if the corresponding bit of <code>y</code> is 1; otherwise it equals the corresponding bit of <code>x</code>.</p>
<h5 id="bitwise-operation-examples"><strong>Bitwise operation examples</strong> *</h5>
<p>The code below shows how bitwise operations can be used to interpret a <code>uint8</code> value as a compact and efficient set of 8 independent bits. It uses <code>Printf</code>'s <code>%b</code> verb to print a number’s binary digits; <code>08</code> modifies <code>%b</code> to pad the result with zeros to exactly 8 digits.</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">x</span> <span class="kt">uint8</span> <span class="p">=</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">1</span> <span class="p">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">5</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="kt">uint8</span> <span class="p">=</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">1</span> <span class="p">|</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">2</span>

<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span>    <span class="c1">// &quot;00100010&quot;, the set {1, 5}</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span>    <span class="c1">// &quot;00000110&quot;, the set {1, 2}</span>

<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="o">&amp;</span><span class="nx">y</span><span class="p">)</span>  <span class="c1">// &quot;00000010&quot;, the intersection {1}</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">|</span><span class="nx">y</span><span class="p">)</span>  <span class="c1">// &quot;00100110&quot;, the union {1, 2, 5}</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">^</span><span class="nx">y</span><span class="p">)</span>  <span class="c1">// &quot;00100100&quot;, the symmetric difference {2, 5}</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="o">&amp;^</span><span class="nx">y</span><span class="p">)</span> <span class="c1">// &quot;00100000&quot;, the difference {5}</span>

<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="nb">uint</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">x</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="nx">i</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">{</span> <span class="c1">// membership test</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="c1">// &quot;1&quot;, &quot;5&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// &quot;01000100&quot;, the set {2, 6}</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%08b\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// &quot;00010001&quot;, the set {0, 4}</span>
</pre></div>


<p><a href="../ch6/#example-bit-vector-type">Section 6.5</a> shows an implementation of integer sets that can be much bigger than a byte.</p>
<p>In the shift operations <code>x&lt;&lt;n</code> and <code>x&gt;&gt;n</code>:</p>
<ul>
<li>The <code>n</code> operand determines the number of bit positions to shift and must be unsigned.</li>
<li>The <code>x</code> operand may be unsigned or signed.</li>
</ul>
<p>Arithmetically:</p>
<ul>
<li>A left shift <code>x&lt;&lt;n</code> is equivalent to multiplication by 2<sup>n</sup>.</li>
<li>A right shift <code>x&gt;&gt;n</code> is equivalent to the floor of division by 2<sup>n</sup>.</li>
</ul>
<p>For unsigned numbers, both left and right shifts fill the vacated bits with zeros. However, <u>right shifts of signed numbers fill the vacated bits with copies of the sign bit.</u> For this reason, it is important to use unsigned arithmetic when you’re treating an integer as a bit pattern.</p>
<h5 id="usages-of-unsigned-numbers"><strong>Usages of unsigned numbers</strong></h5>
<p>Although Go provides unsigned numbers and arithmetic, we tend to use the signed <code>int</code> form even for quantities that can’t be negative, such as the length of an array (though <code>uint</code> might seem a more obvious choice). The built-in <code>len</code> function returns a signed <code>int</code>. Consider the following example:</p>
<div class="codehilite"><pre><span class="nx">medals</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;gold&quot;</span><span class="p">,</span> <span class="s">&quot;silver&quot;</span><span class="p">,</span> <span class="s">&quot;bronze&quot;</span><span class="p">}</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">medals</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">medals</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="c1">// &quot;bronze&quot;, &quot;silver&quot;, &quot;gold&quot;</span>
<span class="p">}</span>
</pre></div>


<p>If <code>len</code> returned an unsigned number, then <code>i</code> would be a <code>uint</code>, and the condition <code>i &gt;= 0</code> would always be true by definition. After the third iteration, in which <code>i == 0</code>, the <code>i--</code> statement would cause <code>i</code> to become not <code>−1</code>, but the maximum <code>uint</code> value (for example, 2<sup>64</sup>−1), and the evaluation of <code>medals[i]</code> would fail at run time, or panic (<a href="../ch5/#panic">Section 5.9</a>), by attempting to access an element outside the bounds of the slice.</p>
<p>For this reason, unsigned numbers tend to be used only when their bitwise operators or peculiar arithmetic operators are required, such as</p>
<ul>
<li>Implementing bit sets</li>
<li>Parsing binary file formats</li>
<li>For hashing and cryptography.</li>
</ul>
<p>They are typically not used for merely non-negative quantities.</p>
<p>Binary operators for arithmetic and logic (except shifts) must have operands of the same type. In cases where operands have different types, an explicit conversion is required. This eliminates a whole class of problems and makes programs easier to understand.</p>
<p>Consider this sequence:</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">apples</span> <span class="kt">int32</span> <span class="p">=</span> <span class="mi">1</span>
<span class="kd">var</span> <span class="nx">oranges</span> <span class="kt">int16</span> <span class="p">=</span> <span class="mi">2</span>
<span class="kd">var</span> <span class="nx">compote</span> <span class="kt">int</span> <span class="p">=</span> <span class="nx">apples</span> <span class="o">+</span> <span class="nx">oranges</span> <span class="c1">// compile error</span>
</pre></div>


<p>Attempting to compile these three declarations produces an error message:</p>
<div class="codehilite"><pre>invalid operation: apples + oranges (mismatched types int32 and int16)
</pre></div>


<p>This type mismatch can be fixed in several ways, most directly by converting everything to a common type:</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">compote</span> <span class="p">=</span> <span class="nb">int</span><span class="p">(</span><span class="nx">apples</span><span class="p">)</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="nx">oranges</span><span class="p">)</span>
</pre></div>


<p>As described in <a href="../ch2/#type-declarations">Section 2.5</a>, for every type <code>T</code>, the conversion operation <code>T(x)</code> converts the value <code>x</code> to type <code>T</code> if the conversion is allowed. Many integer-to-integer conversions do not entail any change in value, but only tell the compiler how to interpret a value. However, some conversions may change the value or lose precision:</p>
<ul>
<li>A conversion that narrows a big integer into a smaller one.</li>
<li>A conversion from integer to floating-point or vice versa.</li>
</ul>
<div class="codehilite"><pre><span class="nx">f</span> <span class="o">:=</span> <span class="mf">3.141</span> <span class="c1">// a float64</span>
<span class="nx">i</span> <span class="o">:=</span> <span class="nb">int</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
<span class="c1">// &quot;3.141 3&quot;</span>
<span class="nx">f</span> <span class="p">=</span> <span class="mf">1.99</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nx">f</span><span class="p">))</span> <span class="c1">// &quot;1&quot;</span>
</pre></div>


<p>Float to integer conversion discards any fractional part, truncating toward zero. You should avoid conversions in which the operand is out of range for the target type, because the behavior depends on the implementation:</p>
<div class="codehilite"><pre><span class="nx">f</span> <span class="o">:=</span> <span class="mf">1e100</span>  <span class="c1">// a float64</span>
<span class="nx">i</span> <span class="o">:=</span> <span class="nb">int</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="c1">// result is implementation-dependent</span>
</pre></div>


<p>Integer literals of any size and type can be written as one of the following:</p>
<ul>
<li>Ordinary decimal numbers,</li>
<li>Octal numbers, if they begin with 0, e.g. 0666</li>
<li>Hexadecimal, if they begin with 0x or 0X, e.g. 0xdeadbeef. Hex digits may be upper or lower case.</li>
</ul>
<p>Nowadays octal numbers seem to be used for exactly one purpose: file permissions on POSIX systems. Hexadecimal numbers are widely used to emphasize the bit pattern of a number over its numeric value.  When printing numbers using the <code>fmt</code> package, we can control the <a href="https://en.wikipedia.org/wiki/Radix">radix</a> and format with the <code>%d</code>, <code>%o</code>, and <code>%x</code> verbs, as shown in this example:</p>
<div class="codehilite"><pre><span class="nx">o</span> <span class="o">:=</span> <span class="mo">0666</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %[1]o %#[1]o\n&quot;</span><span class="p">,</span> <span class="nx">o</span><span class="p">)</span> <span class="c1">// &quot;438 666 0666&quot;</span>
<span class="nx">x</span> <span class="o">:=</span> <span class="nb">int64</span><span class="p">(</span><span class="mh">0xdeadbeef</span><span class="p">)</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %[1]x %#[1]x %#[1]X\n&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span>
<span class="c1">// Output:</span>
<span class="c1">// 3735928559 deadbeef 0xdeadbeef 0XDEADBEEF</span>
</pre></div>


<p>The above example describes two <code>fmt</code> tricks.</p>
<ol>
<li>Usually a <code>Printf</code> format string containing multiple <code>%</code> verbs would require the same number of extra operands, but the <code>[1]</code> "adverbs" after <code>%</code> tell <code>Printf</code> to use the first operand.</li>
<li>The <code>#</code> adverb for <code>%o</code> or <code>%x</code> or <code>%X</code> tells <code>Printf</code> to emit a <code>0</code> or <code>0x</code> or <code>0X</code> prefix respectively.</li>
</ol>
<p>Rune literals are written as a character within single quotes. The simplest example is an ASCII character like <code>'a'</code>, but it’s possible to write any Unicode code point either directly or with numeric escapes. This will be discussed in later sections.</p>
<p>Runes are printed with <code>%c</code>, or with <code>%q</code> if quoting is desired:</p>
<div class="codehilite"><pre><span class="nx">ascii</span> <span class="o">:=</span> <span class="sc">&#39;a&#39;</span>
<span class="nx">unicode</span> <span class="o">:=</span> <span class="sc">&#39;D&#39;</span>
<span class="nx">newline</span> <span class="o">:=</span> <span class="sc">&#39;\n&#39;</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %[1]c %[1]q\n&quot;</span><span class="p">,</span> <span class="nx">ascii</span><span class="p">)</span>   <span class="c1">// &quot;97 a &#39;a&#39;&quot;</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %[1]c %[1]q\n&quot;</span><span class="p">,</span> <span class="nx">unicode</span><span class="p">)</span> <span class="c1">// &quot;22269 D &#39;D&#39;&quot;</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%d %[1]q\n&quot;</span><span class="p">,</span> <span class="nx">newline</span><span class="p">)</span>       <span class="c1">// &quot;10 &#39;\n&#39;&quot;</span>
</pre></div>


<h3 id="doubts-and-solution">Doubts and Solution</h3>
<h4 id="verbatim">Verbatim</h4>
<h5 id="p53-on-bitwise-binary-operator"><strong>p53 on bitwise binary operator <code>&amp;^</code></strong></h5>
<blockquote>
<p>The <code>&amp;^</code> operator is bit clear (AND NOT): in the expression <code>z = x &amp;^ y</code>, each bit of <code>z</code> is 0 if the corresponding bit of <code>y</code> is 1; otherwise it equals the corresponding bit of <code>x</code>.</p>
</blockquote>
<p><span class="text-danger">Question</span>: What does it mean?</p>
<p><span class="text-info">Solution</span>:</p>
<ul>
<li><a href="http://stackoverflow.com/questions/28432398/difference-between-some-operators-golang">Stack Overflow</a>: <code>x &amp;^ y</code> means to get the bits that are in <code>x</code> AND NOT in <code>y</code>. See also <a href="#bitwise-operation-examples">bitwise operation examples</a>.</li>
</ul>
            </div>
        </div>

        <footer class="col-md-12">
            
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../custom.js"></script>
    </body>
</html>